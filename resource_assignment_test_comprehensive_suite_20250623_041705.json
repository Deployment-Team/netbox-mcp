{
  "test_suite": "netbox_assign_resources_to_tenant",
  "timestamp": "2025-06-23T04:17:05.972856",
  "summary": {
    "total_tests": 5,
    "successful_tests": 4,
    "success_rate": "80.0%"
  },
  "detailed_results": {
    "basic_assignment": {
      "success": true,
      "action": "assigned",
      "operation": "assign",
      "tenant": {
        "name": "Resource-Test-Tenant-20250623_041702",
        "id": 8
      },
      "summary": {
        "total_resources": 1,
        "successful_assignments": 1,
        "failed_assignments": 0,
        "success_rate": 100.0
      },
      "assignment_results": [
        {
          "resource_index": 1,
          "type": "prefix",
          "identifier": "10.99.0.0/24",
          "identifier_field": "prefix",
          "resource_id": 1,
          "success": true,
          "operation": "Assigned to tenant Resource-Test-Tenant-20250623_041702",
          "updated_resource": {
            "id": 1,
            "name": "",
            "url": "https://zwqg2756.cloud.netboxapp.com/api/ipam/prefixes/1/"
          }
        }
      ],
      "dry_run": false
    },
    "multi_resource": {
      "success": true,
      "action": "assigned",
      "operation": "assign",
      "tenant": {
        "name": "Multi-Resource-Tenant-20250623_041702",
        "id": 9
      },
      "summary": {
        "total_resources": 3,
        "successful_assignments": 3,
        "failed_assignments": 0,
        "success_rate": 100.0
      },
      "assignment_results": [
        {
          "resource_index": 1,
          "type": "prefix",
          "identifier": "10.99.0.0/24",
          "identifier_field": "prefix",
          "resource_id": 1,
          "success": true,
          "operation": "Assigned to tenant Multi-Resource-Tenant-20250623_041702",
          "updated_resource": {
            "id": 1,
            "name": "",
            "url": "https://zwqg2756.cloud.netboxapp.com/api/ipam/prefixes/1/"
          }
        },
        {
          "resource_index": 2,
          "type": "site",
          "identifier": "MCP Test Site",
          "identifier_field": "name",
          "resource_id": 21,
          "success": true,
          "operation": "Assigned to tenant Multi-Resource-Tenant-20250623_041702",
          "updated_resource": {
            "id": 21,
            "name": "MCP Test Site",
            "url": "https://zwqg2756.cloud.netboxapp.com/api/dcim/sites/21/"
          }
        },
        {
          "resource_index": 3,
          "type": "device",
          "identifier": "test-sw-20250622-183126",
          "identifier_field": "name",
          "resource_id": 11,
          "success": true,
          "operation": "Assigned to tenant Multi-Resource-Tenant-20250623_041702",
          "updated_resource": {
            "id": 11,
            "name": "test-sw-20250622-183126",
            "url": "https://zwqg2756.cloud.netboxapp.com/api/dcim/devices/11/"
          }
        }
      ],
      "dry_run": false
    },
    "unassignment": {
      "success": true,
      "action": "unassigned",
      "operation": "unassign",
      "tenant": {
        "name": "Unassign-Test-Tenant-20250623_041704",
        "id": 10
      },
      "summary": {
        "total_resources": 1,
        "successful_assignments": 1,
        "failed_assignments": 0,
        "success_rate": 100.0
      },
      "assignment_results": [
        {
          "resource_index": 1,
          "type": "prefix",
          "identifier": "10.99.0.0/24",
          "identifier_field": "prefix",
          "resource_id": 1,
          "success": true,
          "operation": "Unassigned from tenant",
          "updated_resource": {
            "id": 1,
            "name": "",
            "url": "https://zwqg2756.cloud.netboxapp.com/api/ipam/prefixes/1/"
          }
        }
      ],
      "dry_run": false
    },
    "error_handling": [
      {
        "test": "Non-existent tenant",
        "status": "passed"
      },
      {
        "test": "Invalid assignment mode",
        "status": "passed"
      },
      {
        "test": "Empty resources list",
        "status": "passed"
      },
      {
        "test": "Invalid resource type",
        "status": "failed"
      }
    ],
    "dry_run": {
      "success": true,
      "action": "dry_run",
      "operation": "assign",
      "tenant": {
        "name": "Dry-Run-Tenant-20250623_041705",
        "id": 11
      },
      "would_process": [
        {
          "type": "prefix",
          "identifier": "10.99.0.0/24",
          "identifier_field": "prefix"
        },
        {
          "type": "site",
          "identifier": "MCP Test Site",
          "identifier_field": "name"
        }
      ],
      "total_resources": 2,
      "dry_run": true
    }
  }
}